#pragma once

#include "YoshiPBR/ysTypes.h"
#include <atomic>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct ysLock
{
    ysLock();
    void Reset();

    void Acquire();
    bool TryAcquire();

    void Release();

    std::atomic<bool> m_acquired;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct ysScopedLock
{
    ysScopedLock(ysLock*);
    ~ysScopedLock();

    ysLock* m_lock;
};